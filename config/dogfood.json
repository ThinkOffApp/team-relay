{
  "listen": {
    "host": "127.0.0.1",
    "port": 8787
  },
  "queue": {
    "path": "./ide-agent-queue.jsonl"
  },
  "receipts": {
    "path": "./ide-agent-receipts.jsonl",
    "stdout_tail_lines": 80
  },
  "tmux": {
    "default_session": "iak-runner",
    "ide_session": "claude",
    "nudge_text": "check rooms",
    "allow": [
      "npm test",
      "npm run build",
      "pytest",
      "git status",
      "git diff"
    ]
  },
  "github": {
    "webhook_secret": "CHANGE_ME",
    "event_kinds": [
      "pull_request",
      "issue_comment"
    ]
  },
  "outbound": {
    "default_webhook_url": ""
  },
  "rate_limit": {
    "message_interval_sec": 30
  },
  "openclaw": {
    "home": "$OPENCLAW_HOME",
    "bin": "openclaw",
    "ssh": "",
    "host": "127.0.0.1",
    "port": 18791,
    "token": "CHANGE_ME"
  },
  "discord": {
    "channels": [
      { "id": "CHANGE_ME", "name": "general" }
    ],
    "interval_sec": 30,
    "self_id": "CHANGE_ME",
    "skip_bots": false,
    "seen_file": "/tmp/iak-discord-seen.txt"
  },
  "poller": {
    "rooms": ["your-room-name"],
    "api_key": "CHANGE_ME",
    "handle": "@your-agent",
    "interval_sec": 10,
    "owner_handle": "your-username",
    "ack_enabled": false,
    "seen_file": "/tmp/iak-seen-ids.txt"
  },
  "moltbook": {
    "api_base": "https://www.moltbook.com/api/v1",
    "accounts": [
      { "name": "your-account", "api_key": "CHANGE_ME" }
    ],
    "default_account": "your-account"
  },
  "comments": {
    "moltbook": {
      "posts": []
    },
    "github": {
      "repos": [
        { "owner": "your-org", "repo": "your-repo", "type": "issues" }
      ]
    },
    "interval_sec": 120,
    "seen_file": "/tmp/iak-comment-seen.txt"
  },
  "automation": {
    "rules": [
      {
        "name": "owner-task-nudge",
        "match": { "sender": "your-username", "mention": "@your-agent" },
        "action": { "type": "nudge", "text": "check rooms" }
      },
      {
        "name": "check-comments-request",
        "match": { "sender": "your-username", "keywords": ["check comments", "poll comments", "new comments"] },
        "action": { "type": "nudge", "text": "check comments" }
      },
      {
        "name": "status-request",
        "match": { "sender": "your-username", "keywords": ["status", "how are you"] },
        "action": { "type": "nudge", "text": "check rooms" }
      }
    ],
    "cooldown_sec": 10,
    "interval_sec": 15,
    "first_match_only": true,
    "seen_file": "/tmp/iak-automation-seen.txt"
  }
}
